da li je certifikat u crl listi
da li je datum isteka certifikata istekao
da li je CA_Certifikat validan
da li je crl lista potpisana od strane CA_ certifikat i kako uopste to provjeriti (vjerovatno je potpisana privatnim lkljucem!)


treba napraviti usera

ime
prezime
lokacija certifikata
lokacija kljuca
////laksi upis u kolekciju prilikom ucitavanja i popunajvanja formi

//da li treba provjeravati da li su javni i privatni kljuc u paru 
//potpisati nesto i otvoriti i viditi da li je validno

-CITAV PROCES
genrsa -out kljucevi/miso_private_key.pem 2048
req -new -key kljucevi/miso_private_key.pem -config openssl.cnf -out req1.csr
BA
RS
Banja Luka
ETF
CA_MiroslavMandic
Miso
Miso@gmail.com


ca -in req1.csr -out certs/miso.pem -config openssl.cnf -days 100
y
y
x509 -in certs/miso.pem -inform PEM -outform DER -out certs/miso.der
pkcs8 -topk8 -inform PEM -outform DER -in kljucevi/miso_private_key.pem -out kljucevi/miso_private_key.der -nocrypt





-provjera datuma certifikata
	x509 -enddate -noout -in file.pem
-generisati privatni kljuc
	genrsa -out kljucevi/miso_private_key.pem 2048
-keiranje zahtjeva za nivi certifikat
	req -new -key kljucevi/miso_private_key.pem -config openssl.cnf -out req1.csr
-odobriti zahtjev
	ca -in req1.csr -out certs/miso.pem -config openssl.cnf -days 100
-izbrisati req1.csr rucno
-prebaciti sertifikat u DER format
	x509 -in certs/miso.pem -inform PEM -outform DER -out certs/miso.der
-prebaciti privatni kljuc u PKCS8
	pkcs8 -topk8 -inform PEM -outform DER -in kljucevi/miso_private_key.pem -out kljucevi/miso_private_key.der -nocrypt



heshovan_potpis
dekriptovanje

username	heshovan_Password	lokacijaCertifikata_zbog_privatnog_kluca	ime		prezime


pravim hesh funkcije
potpisujem ga privatnim kljucem - odnosno kreira se digitalni potpis

saljem dokument
saljem digitalni potpis

primalac pravi hesh dokumenta
dekriptuje digitalni potpis privatnim kjucem

provjerava jel ispravno sve?!



//DIgitalna anvelopa
slucajni kljuc se generise i simetricnim algortimom kriptuje dokument!
kriptuje se sesijski kljucasimetricnim algortimom javnim kljucem primaoca (anvelpola je kriptovani kljuc sesije)
salje se kriptovana poruka i anvelopa

//
kriptujem poruku svojim privatnim kljucem
kriptujem sve to javnim kljucem primaoca
ovim se postize tajnost i autenticnost



//kako
upsati korisnike i pasworde
dokument kriptovati sa 3Des algoritmom
napraviti hash dokumenta
kljuc za 3DES i hash kriptovati koristenjem privatnog kljuca CA

Dektripcija kljuceva i hasha
provjeravanje da li se hash1 i hash2 poklapaju
dekripcija koristenjem kljuca za 3DES
ispis korisnika


//
tekst uzmem i kriptujem 3DES algoritmom - lozinku negdje zapamtim
hesujem taj tekst 
kriptujem asimetricnim alogitmom: (duzina_poruke_u_slici + lozinka + heshovan_tekst + ) privatnim kljucem posiljaoca
ime posiljaoca stavim odmah na pocetku ()

u slici se treba nalaziti:
tekst kriptovan hesh 3DES algoritmom
sifra i hes te poruke na pocetu



duzina teksta *8  + 256 za lozinku + 256 za hash + duzina usera (10*8)  === padding za +1 ili +2 / jer mora biti djeljivo sa 3!!!
prvih 8 piksela odredjuje duzinu upisanog teksta!












    @Systemname                       varchar(20)= null out,
    @Modulename                       varchar(5)= null out,
    @Maxrows                          int = 1000,
    @Currentversion                   bigint = NULL,
    @Updateversion                    bit = 1,
    @Arrangmentnumber                 varchar(20) = NULL,
    @PartyKey					      varchar(30) = NULL,
    @Batchid                          varchar(50) = NULL,
    @Newversion                       bigint = NULL OUT
	
	DECLARE @Ressum int				
    SET @Ressum = 0

    DECLARE @I int
    SET @I = 1

    DECLARE @Res int
    DECLARE @Tmpmodulename varchar(5)

    declare @ReturnSystemName varchar(36)

resume
i
res
tempmodulename
returnSYSName









